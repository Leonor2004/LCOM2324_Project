\doxysection{controllers/timer/timer.c File Reference}
\hypertarget{timer_8c}{}\label{timer_8c}\index{controllers/timer/timer.c@{controllers/timer/timer.c}}
{\ttfamily \#include $<$lcom/lcf.\+h$>$}\newline
{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include "{}../macros.\+h"{}}\newline
Include dependency graph for timer.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=305pt]{timer_8c__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{int}} \mbox{\hyperlink{timer_8c_aca1506be74dfc71c6f90772ca269c619}{timer\+\_\+set\+\_\+frequency}} (\mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{uint8\+\_\+t}} \mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{timer}}, \mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{uint32\+\_\+t}} \mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{freq}})
\begin{DoxyCompactList}\small\item\em This function sets the frequency of a timer specified by \textquotesingle{}timer\textquotesingle{} to the value \textquotesingle{}freq\textquotesingle{}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{int}} \mbox{\hyperlink{timer_8c_a6f786481e80308348d629d605ffa2d84}{timer\+\_\+subscribe\+\_\+int}} (\mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{uint8\+\_\+t}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{bit\+\_\+no}})
\begin{DoxyCompactList}\small\item\em Subscribes to timer interrupts, setting a bit number for the interrupt line. \end{DoxyCompactList}\item 
\mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{int}} \mbox{\hyperlink{timer_8c_ab9eea51549744bca5c5c923b388bb4ee}{timer\+\_\+unsubscribe\+\_\+int}} ()
\begin{DoxyCompactList}\small\item\em Unsubscribes from timer interrupts, removing the interrupt policy. \end{DoxyCompactList}\item 
\mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{void}} \mbox{\hyperlink{timer_8c_a10fc9c867b15c7da6649311c9987cd17}{timer\+\_\+int\+\_\+handler}} ()
\begin{DoxyCompactList}\small\item\em Handles timer interrupts by incrementing a global counter. \end{DoxyCompactList}\item 
\mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{int}} \mbox{\hyperlink{timer_8c_afafc1891c876602d55b894103b1841a7}{timer\+\_\+get\+\_\+conf}} (\mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{uint8\+\_\+t}} \mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{timer}}, \mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{uint8\+\_\+t}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{st}})
\begin{DoxyCompactList}\small\item\em This function is intended to get the configuration of a timer specified by \textquotesingle{}timer\textquotesingle{}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{int}} \mbox{\hyperlink{timer_8c_a2f6a1c71f61dce5b3b6eecba83e7d7e9}{timer\+\_\+display\+\_\+conf}} (\mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{uint8\+\_\+t}} \mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{timer}}, \mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{uint8\+\_\+t}} \mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{st}}, \mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{enum}} \mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{timer\+\_\+status\+\_\+field}} \mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{field}})
\begin{DoxyCompactList}\small\item\em This function is intended to display the configuration of a timer specified by \textquotesingle{}timer\textquotesingle{}, based on the requested field \textquotesingle{}field\textquotesingle{}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{int}} \mbox{\hyperlink{timer_8c_a96e6321e488d93a8134897510c435eb7}{timer\+\_\+hook\+\_\+id}} = 0
\item 
\mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{int}} \mbox{\hyperlink{timer_8c_aa135bb051c7a68877c688aaa5a9c64ab}{global\+\_\+counter}} = 0
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{timer_8c_a2f6a1c71f61dce5b3b6eecba83e7d7e9}\label{timer_8c_a2f6a1c71f61dce5b3b6eecba83e7d7e9} 
\index{timer.c@{timer.c}!timer\_display\_conf@{timer\_display\_conf}}
\index{timer\_display\_conf@{timer\_display\_conf}!timer.c@{timer.c}}
\doxysubsubsection{\texorpdfstring{timer\_display\_conf()}{timer\_display\_conf()}}
{\footnotesize\ttfamily \mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{int}} timer\+\_\+display\+\_\+conf (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{uint8\+\_\+t}}}]{timer,  }\item[{\mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{uint8\+\_\+t}}}]{st,  }\item[{\mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{enum}} \mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{timer\+\_\+status\+\_\+field}}}]{field }\end{DoxyParamCaption})}



This function is intended to display the configuration of a timer specified by \textquotesingle{}timer\textquotesingle{}, based on the requested field \textquotesingle{}field\textquotesingle{}. 


\begin{DoxyParams}{Parameters}
{\em timer} & \+: Timer (0,1 or 2). \\
\hline
{\em st} & \+: The status byte of the timer. \\
\hline
{\em field} & \+: The field of the timer configuration to display. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int \+: 0 if sucess and 1 otherwise. 
\end{DoxyReturn}
\Hypertarget{timer_8c_afafc1891c876602d55b894103b1841a7}\label{timer_8c_afafc1891c876602d55b894103b1841a7} 
\index{timer.c@{timer.c}!timer\_get\_conf@{timer\_get\_conf}}
\index{timer\_get\_conf@{timer\_get\_conf}!timer.c@{timer.c}}
\doxysubsubsection{\texorpdfstring{timer\_get\_conf()}{timer\_get\_conf()}}
{\footnotesize\ttfamily \mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{int}} timer\+\_\+get\+\_\+conf (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{uint8\+\_\+t}}}]{timer,  }\item[{\mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{uint8\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{st }\end{DoxyParamCaption})}



This function is intended to get the configuration of a timer specified by \textquotesingle{}timer\textquotesingle{}. 

It reads the configuration byte of the specified timer and stores it in the memory location pointed to by the pointer \textquotesingle{}st\textquotesingle{}.


\begin{DoxyParams}{Parameters}
{\em timer} & \+: Timer (0,1 or 2). \\
\hline
{\em st} & \+: The status byte of the timer. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int \+: 0 if sucess and 1 otherwise. 
\end{DoxyReturn}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=280pt]{timer_8c_afafc1891c876602d55b894103b1841a7_cgraph}
\end{center}
\end{figure}
\Hypertarget{timer_8c_a10fc9c867b15c7da6649311c9987cd17}\label{timer_8c_a10fc9c867b15c7da6649311c9987cd17} 
\index{timer.c@{timer.c}!timer\_int\_handler@{timer\_int\_handler}}
\index{timer\_int\_handler@{timer\_int\_handler}!timer.c@{timer.c}}
\doxysubsubsection{\texorpdfstring{timer\_int\_handler()}{timer\_int\_handler()}}
{\footnotesize\ttfamily \mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{void}} timer\+\_\+int\+\_\+handler (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Handles timer interrupts by incrementing a global counter. 

\Hypertarget{timer_8c_aca1506be74dfc71c6f90772ca269c619}\label{timer_8c_aca1506be74dfc71c6f90772ca269c619} 
\index{timer.c@{timer.c}!timer\_set\_frequency@{timer\_set\_frequency}}
\index{timer\_set\_frequency@{timer\_set\_frequency}!timer.c@{timer.c}}
\doxysubsubsection{\texorpdfstring{timer\_set\_frequency()}{timer\_set\_frequency()}}
{\footnotesize\ttfamily \mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{int}} timer\+\_\+set\+\_\+frequency (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{uint8\+\_\+t}}}]{timer,  }\item[{\mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{uint32\+\_\+t}}}]{freq }\end{DoxyParamCaption})}



This function sets the frequency of a timer specified by \textquotesingle{}timer\textquotesingle{} to the value \textquotesingle{}freq\textquotesingle{}. 

It calculates the appropriate values for the timer to generate the desired frequency and writes them to the timer\textquotesingle{}s control registers and data ports.


\begin{DoxyParams}{Parameters}
{\em timer} & \+: Timer (0,1 or 2). \\
\hline
{\em freq} & \+: The desired frequency. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int \+: 0 if sucess and 1 otherwise. 
\end{DoxyReturn}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer_8c_aca1506be74dfc71c6f90772ca269c619_cgraph}
\end{center}
\end{figure}
\Hypertarget{timer_8c_a6f786481e80308348d629d605ffa2d84}\label{timer_8c_a6f786481e80308348d629d605ffa2d84} 
\index{timer.c@{timer.c}!timer\_subscribe\_int@{timer\_subscribe\_int}}
\index{timer\_subscribe\_int@{timer\_subscribe\_int}!timer.c@{timer.c}}
\doxysubsubsection{\texorpdfstring{timer\_subscribe\_int()}{timer\_subscribe\_int()}}
{\footnotesize\ttfamily \mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{int}} timer\+\_\+subscribe\+\_\+int (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{uint8\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{bit\+\_\+no }\end{DoxyParamCaption})}



Subscribes to timer interrupts, setting a bit number for the interrupt line. 


\begin{DoxyParams}{Parameters}
{\em bit\+\_\+no} & \+: IRQ. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int \+: 0 if sucess and 1 otherwise. 
\end{DoxyReturn}
\Hypertarget{timer_8c_ab9eea51549744bca5c5c923b388bb4ee}\label{timer_8c_ab9eea51549744bca5c5c923b388bb4ee} 
\index{timer.c@{timer.c}!timer\_unsubscribe\_int@{timer\_unsubscribe\_int}}
\index{timer\_unsubscribe\_int@{timer\_unsubscribe\_int}!timer.c@{timer.c}}
\doxysubsubsection{\texorpdfstring{timer\_unsubscribe\_int()}{timer\_unsubscribe\_int()}}
{\footnotesize\ttfamily \mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{int}} timer\+\_\+unsubscribe\+\_\+int (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Unsubscribes from timer interrupts, removing the interrupt policy. 

\begin{DoxyReturn}{Returns}
int \+: 0 if sucess and 1 otherwise. 
\end{DoxyReturn}


\doxysubsection{Variable Documentation}
\Hypertarget{timer_8c_aa135bb051c7a68877c688aaa5a9c64ab}\label{timer_8c_aa135bb051c7a68877c688aaa5a9c64ab} 
\index{timer.c@{timer.c}!global\_counter@{global\_counter}}
\index{global\_counter@{global\_counter}!timer.c@{timer.c}}
\doxysubsubsection{\texorpdfstring{global\_counter}{global\_counter}}
{\footnotesize\ttfamily \mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{int}} global\+\_\+counter = 0}

\Hypertarget{timer_8c_a96e6321e488d93a8134897510c435eb7}\label{timer_8c_a96e6321e488d93a8134897510c435eb7} 
\index{timer.c@{timer.c}!timer\_hook\_id@{timer\_hook\_id}}
\index{timer\_hook\_id@{timer\_hook\_id}!timer.c@{timer.c}}
\doxysubsubsection{\texorpdfstring{timer\_hook\_id}{timer\_hook\_id}}
{\footnotesize\ttfamily \mbox{\hyperlink{mouse_8c_a0a2f84ed7838f07779ae24c5a9086d33}{int}} timer\+\_\+hook\+\_\+id = 0}

